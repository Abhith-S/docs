<!-- Merge home and current page translations -->
{{ $bookTranslatedOnly := default false .Site.Params.BookTranslatedOnly }}
{{ $translations := dict }}
{{ if (eq $bookTranslatedOnly false ) }}
  {{ range .Site.Home.Translations }}
    {{ $translations = merge $translations (dict .Language.Lang .) }}
  {{ end }}
{{ end }}
{{ range .Translations }}
  {{ $translations = merge $translations (dict .Language.Lang .) }}
{{ end }}

<ul>
  {{ range $.Site.Home.AllTranslations }}
  <li>
    {{- $active := eq $.Language.Lang .Language.Lang -}}
    <a{{ if $active }} class="active"{{ end }} href="{{ .Permalink }}">
      {{ if $active }}â–¸{{ end }} {{ .Language.LanguageName }}
    </a>
  </li>
  {{ end }}
</ul>
